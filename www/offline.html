<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Offline</title>
    <meta name="description" content="Offline">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" id="js-startup-stylesheet" href="/css/water/light.min.css">

    <link rel="stylesheet" href="/css/default.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="/assets/manifest.json">

</head>
<div class="logo">
    <a title="" href="/">
        <img src="/assets/logo.png">
        </img>
    </a>
</div>

<div class="page">
    <h1>You are offline</h1>

    <p>Click the button below to try reloading.</p>
    <button type="button">â¤¾ Reload</button>

    <!-- Inline the page's JavaScript file. -->
    <script>
        // Manual reload feature.
        document.querySelector("button").addEventListener("click", () => {
            window.location.reload();
        });

        // Listen to changes in the network state, reload when online.
        // This handles the case when the device is completely offline.
        window.addEventListener('online', () => {
            window.location.reload();
        });

        // Check if the server is responding and reload the page if it is.
        // This handles the case when the device is online, but the server
        // is offline or misbehaving.
        async function checkNetworkAndReload() {
            try {
                const response = await fetch('.');
                // Verify we get a valid response from the server
                if (response.status >= 200 && response.status < 500) {
                    console.log('reload')
                    window.location = '/';
                    return;
                }
            } catch {
                // Unable to connect to the server, ignore.
            }
            window.setTimeout(checkNetworkAndReload, 2500);
        }

        checkNetworkAndReload();
    </script>
    </body>

</html>